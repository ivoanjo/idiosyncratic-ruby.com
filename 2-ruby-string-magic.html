<!doctype html>
<html>
  <head>
    <title>Idiosyncratic Ruby: Ruby String Magic</title>
    <link rel="alternate" type="application/atom+xml" title="Idiosyncratic Ruby Feed" href="/feed.xml" />
<link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />

<script src="/javascripts/jquery.min.js" type="text/javascript"></script><script src="/javascripts/app.js" type="text/javascript"></script>

<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="description" content="Documenting All Ruby Specialities."/>
<meta name="keywords" content="ruby, strings, regex, syntax, stdlib"/>

  </head>

  <body>
    <div class="world">
      <section class="post-header">
        <a href="/" class="post-logo"><img src="/images/idiosyncratic.png" alt="Idiosyncratic Ruby"></a>
        <h1 class="post-heading" id="top"><a href="/2-ruby-string-magic.html">Ruby String Magic</a></h1>
      </section>

      <article class="post">
        <p>Ruby strings are powerful. You could say, Ruby is build around manipulating strings. There are tons of ways how to work with strings and as of Ruby 2.6.0 <code>String</code> offers 119 instance methods. Knowing them well can save you a lot of time.</p>

<p></p>

<p>What follows is a list of 10 lesser known things about strings: Some of them useful, some of them idiosyncratic, some both.</p>

<h2 id="named-format-strings">Named Format Strings</h2>

<blockquote class="twitter-tweet" lang="en"><p>Btw, Ruby&#39;s format strings can be used with hashes:<br />&quot;%&lt;language&gt;s: %&lt;author&gt;s&quot; % { language: &quot;Ruby&quot;, author: &quot;matz&quot; } #=&gt; &quot;Ruby: matz&quot;</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/527152031782674432">October 28, 2014</a></blockquote>

<h2 id="string-concatenation">String Concatenation</h2>

<blockquote class="twitter-tweet" lang="en"><p>There is a lesser-known syntax for concatenating string literals: &quot;just&quot; &quot;put&quot; &quot;them&quot; &quot;directly&quot;&quot;after&quot; &quot;each&quot; &quot;other&quot;</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/510013718076600320">September 11, 2014</a></blockquote>

<h2 id="strings--empty-ranges">Strings + Empty Ranges</h2>

<blockquote class="twitter-tweet" lang="en"><p>Ruby is strange. How can an *empty* range have an effect when applied to a string?<br />r = 0..-3<br />r.to_a.empty? #=&gt; true<br />&quot;Ruby&quot;[r] #=&gt; &quot;Ru&quot;</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/519066888014659584">October 6, 2014</a></blockquote>

<h2 id="whitespace-matching">Whitespace Matching</h2>

<blockquote class="twitter-tweet" lang="en"><p>Unicode is full of whitespaces. This is how you match them:<br />a=&quot;    　&quot; #=&gt; &quot;    　&quot;<br />a.scan(/\s/).size #=&gt; 1<br />a.scan(/[[:space:]]/).size #=&gt; 5</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/539440415498579969">December 1, 2014</a></blockquote>

<h2 id="stringsucc"><code>String#succ</code></h2>

<blockquote class="twitter-tweet" lang="en"><p>Ruby&#39;s weird calculation of string successors:<br />&quot;9z&quot;.succ #=&gt; &quot;10a&quot;<br />&quot;z9&quot;.succ #=&gt; &quot;aa0&quot;</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/520230545465548801">October 9, 2014</a></blockquote>

<h2 id="stdlib-string-compression">Stdlib String Compression</h2>

<blockquote class="twitter-tweet" lang="en"><p>Simple stdlib string compression:<br />require &#39;zlib&#39;<br />s = &quot;Ruby&quot;*99<br />s.size #=&gt; 396<br />c = Zlib.deflate(s)<br />c.size #=&gt; 17<br />Zlib.inflate(c) == s #=&gt;true</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/511902948805599233">September 16, 2014</a></blockquote>

<h2 id="using-regex-groups-in-string">Using Regex Groups in <code>String#[]</code></h2>

<blockquote class="twitter-tweet" lang="en"><p>You can use regex incl. captured groups when accessing substrings via the [] method: &quot;#42&quot;[/.(\d+)/, 1] #=&gt; &quot;42&quot;</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/508605294059192320">September 7, 2014</a></blockquote>

<h2 id="rexepunion"><code>Rexep.union</code></h2>

<blockquote class="twitter-tweet" lang="en"><p>If you have an array of strings, you can automatically generate a regex that matches any the strings: regex = Regexp.union(array_of_strings)</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/510441137254195200">September 12, 2014</a></blockquote>

<h2 id="convert-a-string-from-snakecase-to-camelcase">Convert a String from <em>snake_case</em> to <em>CamelCase</em></h2>

<blockquote class="twitter-tweet" lang="en"><p>You can camelize a string (some_string =&gt; SomeString) with:<br />&quot;some_string&quot;.gsub(/(?:^|_)([a-z])/) do $1.upcase end</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/509330964246720512">September 9, 2014</a></blockquote>

<h2 id="convert-a-string-from-camelcase-to-snakecase">Convert a String from <em>CamelCase</em> to <em>snake_case</em></h2>

<blockquote class="twitter-tweet" lang="en"><p>You can snakify a string (SomeString =&gt; some_string) with: <br />&quot;SomeString&quot;.gsub(/(?&lt;!^)[A-Z]/) do &quot;_#$&amp;&quot; end.downcase</p>&mdash; Ruby String Magic (@RubyStrings) <a href="https://twitter.com/RubyStrings/status/508995693277904896">September 8, 2014</a></blockquote>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="http://www.ruby-doc.org/core/String.html">RDoc: String</a></li>
  <li><a href="https://github.com/ruby/ruby/blob/trunk/string.c">Source: String</a></li>
  <li><a href="https://github.com/rubinius/rubinius/blob/master/kernel/common/string.rb">Rubinus Source: String</a></li>
</ul>


        <h2>More Idiosyncratic Ruby</h2>
        <ul>
          <li><a href="https://github.com/janlelis/idiosyncratic-ruby.com/commit/cee4bd8f81fa108aecc5b01734572fd3e69dcff4#all_commit_comments">Please Comment on GitHub</a></li>
            <li>Next Article: <a href="/3-ruby-can-you-speak-louder.html">Ruby, Can You Speak Louder?</a></li>
            <li>Previous Article: <a href="/1-test-highlights.html">Test Highlights</a></li>
        </ul>
      </article>

      <footer>
        <div class="footer-right">
          On <a href="/">Idiosyncratic Ruby</a> by <a href="https://janlelis.com">Jan Lelis</a><br>
          
          <a href="https://janlelis.com/data-protection.html">Data Protection</a>
        </div>
        About Strings, Regex, Syntax, Stdlib<br>
        Last Update: December 28, 2018
      </footer>
    </div>
    <script src="/javascripts/rainbow-custom.min.js" type="text/javascript"></script>
  </body>
</html>