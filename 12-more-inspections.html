<!doctype html>
<html>
  <head>
    <title>Idiosyncratic Ruby: More Inspections</title>
    <link rel="alternate" type="application/atom+xml" title="Idiosyncratic Ruby Feed" href="/feed.xml" />
<link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />

<script src="/javascripts/jquery.min.js" type="text/javascript"></script><script src="/javascripts/app.js" type="text/javascript"></script>

<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="description" content="Documenting All Ruby Specialities."/>
<meta name="keywords" content="ruby, core, irb, cli-options"/>

  </head>

  <body>
    <div class="world">
      <section class="post-header">
        <a href="/" class="post-logo"><img src="/images/idiosyncratic.png" alt="Idiosyncratic Ruby"></a>
        <h1 class="post-heading" id="top"><a href="/12-more-inspections.html">More Inspections</a></h1>
      </section>

      <article class="post">
        <p>Some of IRB's command-line options can be called idiosyncratic as well. Take <em>math mode</em>ยน as an example: It will require the infamous <a href="https://github.com/ruby/ruby/blob/trunk/lib/mathn.rb">mathn</a> library on start up:</p>

<p></p>

<pre><code>$ irb -m
&gt;&gt; Math #=&gt; CMath
&gt;&gt; 3/2 #=&gt; (3/2)
&gt;&gt; !!defined?(Vector) #=&gt; true
</code></pre>

<p>ยน Math mode actually has been removed in Ruby version 2.5</p>

<p>And another one surprised me: You can pass custom <a href="https://github.com/ruby/ruby/blob/trunk/lib/irb/inspector.rb">inspectors</a> to IRB, for example, <em>yaml</em>:</p>

<pre><code>$ irb -f --inspect yaml
&gt;&gt; [1,2,3]
=&gt; ---
- 1
- 2
- 3
</code></pre>

<p>Or <em>marshal</em>:</p>

<pre><code>$ irb -f --inspect marshal
&gt;&gt; 42
=&gt; i/
</code></pre>

<p>But you can also define <em>your own inspectors on the fly</em>:</p>

<pre><code>$ irb -f --inspect "{ |r| r.to_s.reverse }"
&gt;&gt; [1,2,3]
=&gt; ]3 ,2 ,1[
</code></pre>

<p>It will be eval'd (!) as the block part of a new <code>proc</code>.</p>

<h2 id="resources">Resources</h2>

<ul>
  <li><code>man irb</code></li>
  <li><a href="https://github.com/ruby/ruby/blame/trunk/lib/irb/context.rb">Source: irb/context</a></li>
  <li><a href="https://github.com/ruby/ruby/blob/trunk/lib/irb/inspector.rb">Source: irb/inspectors</a></li>
</ul>


        <h2>More Idiosyncratic Ruby</h2>
        <ul>
          <li><a href="https://github.com/janlelis/idiosyncratic-ruby.com/commit/a1ca4750de9d1170719c67a34d0bc44e149c3429#all_commit_comments">Please Comment on GitHub</a></li>
            <li>Next Article: <a href="/13-slicing-rubies.html">Slicing Rubies</a></li>
            <li>Previous Article: <a href="/11-regular-extremism.html">Regular Extremism</a></li>
        </ul>
      </article>

      <footer>
        <div class="footer-right">
          On <a href="/">Idiosyncratic Ruby</a> by <a href="https://janlelis.com">Jan Lelis</a><br>
          
          <a href="https://janlelis.com/data-protection.html">Data Protection</a>
        </div>
        About Core, Irb, Cli-options<br>
        Last Update: December 28, 2018
      </footer>
    </div>
    <script src="/javascripts/rainbow-custom.min.js" type="text/javascript"></script>
  </body>
</html>